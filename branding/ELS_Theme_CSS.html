<style>
/* ================================================================
   ELS Brand Theme — Phase 1 (UI only)
   Scope: weekly calendar + “réserver votre livraison” modals
   Constraints: no DOM/JS changes, no external assets, AA, :where(), ≤25KB
   ================================================================ */

/* --- Tokens (ELS) ------------------------------------------------ */
:root{
  /* Brand palette (strict) */
  --els-color-primary-violet:#8e44ad;
  --els-color-primary-blue:#3498db;
  --els-color-secondary:#5dade2;
  --els-gradient-primary:linear-gradient(135deg,#8e44ad,#3498db);

  /* Neutrals (light) */
  --els-color-bg:#ffffff; --els-color-surface:#f7f8fb;
  --els-color-text:#1e2430; --els-color-text-muted:#5f6b7a;
  --els-color-border:#e6ebf1;

  /* Neutrals (dark) */
  --els-color-bg-dark:#0f1422; --els-color-surface-dark:#151c2c;
  --els-color-text-dark:#e9edf5; --els-color-text-muted-dark:#a7b0bf;
  --els-color-border-dark:#2a3246;

  /* Semantics (no green/orange) */
  --els-color-info:#5dade2; --els-color-error:#b02a37; --els-color-positive:#2b76c6; --els-color-warning:#6f3a92;

  /* Typography */
  --els-font-sans:"Montserrat",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  --els-fs-300:.8125rem; --els-fs-400:.875rem; --els-fs-500:1rem; --els-fs-600:1.125rem; --els-fs-700:1.375rem;

  /* Radii */
  --els-radius-8:8px; --els-radius-12:12px; --els-radius-16:16px;
  --els-radius-pill:999px; --els-radius-tab:12px; --els-radius-alveole:16px;

  /* Shadows */
  --els-shadow-1:0 1px 2px -1px rgba(20,34,55,.18),0 2px 8px rgba(20,34,55,.08);
  --els-shadow-2:0 10px 30px rgba(20,34,55,.16),0 6px 12px -4px rgba(20,34,55,.18);

  /* Spacing */
  --els-space-1:4px; --els-space-2:8px; --els-space-3:12px;
  --els-space-4:16px; --els-space-5:24px; --els-space-6:32px;

  /* Focus */
  --els-focus-inner:#8e44ad; --els-focus-outer:rgba(52,152,219,.35);

  /* Pilulier decor */
  --els-blister-bg:#f7f8fb; --els-blister-edge:rgba(24,35,48,.14); --els-blister-highlight:rgba(255,255,255,.9);
  --els-tab-bg:#e6eef9; --els-tab-text:#1e2430;

  /* Slot accents (optional) */
  --els-slot-am:#e6eef9; --els-slot-pm:#f0e9f6; --els-slot-gap:8px; --els-slot-radius:16px;

  /* Skeleton */
  --els-skeleton-base:#e9edf3; --els-skeleton-highlight:#f6f8fd;
}

/* Map existing app vars to ELS tokens (compat layer) */
:root{
  --couleur-primaire: var(--els-color-primary-violet);
  --couleur-secondaire: var(--els-color-primary-blue);
  --couleur-succes: var(--els-color-positive);
  --couleur-erreur: var(--els-color-error);
  --couleur-avertissement: var(--els-color-warning);
  --gris-clair: var(--els-color-surface);
  --gris-moyen: var(--els-color-text-muted);
  --gris-fonce: var(--els-color-text);
  --couleur-bordure: var(--els-color-border);
  --police-principale: var(--els-font-sans);
  --ombre-portee: var(--els-shadow-1);
}

/* --- Global ------------------------------------------------------ */
:where(body){ color: var(--els-color-text); background: var(--els-color-bg); font-family: var(--els-font-sans); }

:where(.btn:focus,.champ-formulaire:focus,.btn-fermer:focus,.btn-compteur:focus,.interrupteur input:focus + .glissiere,.slot-btn:focus){
  outline:2px solid var(--els-focus-inner); outline-offset:2px; box-shadow:0 0 0 4px var(--els-focus-outer);
}

/* Header & Hero */
:where(.app-en-tete){
  background: var(--els-gradient-primary); color:#fff; border-radius: var(--els-radius-12); padding: 1.2rem 1.2rem 1.4rem; box-shadow: var(--els-shadow-1);
}
:where(.app-en-tete) .btn.btn-secondaire{ background: rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.22); color:#fff; }
:where(.app-en-tete) .btn.btn-secondaire:hover{ background: rgba(255,255,255,.22); }

:where(.hero-tarifs){ background: var(--els-gradient-primary); color:#fff; }
:where(.tarif-carte) h3{ color: var(--els-color-primary-violet); }

/* Calendar -------------------------------------------------------- */
:where(#titre-calendrier){ color: var(--els-color-primary-violet); font-size: var(--els-fs-700); }
:where(.calendrier-jours-semaine){ color: var(--els-color-text-muted); }
:where(.calendrier-jours-semaine) > div{
  background: var(--els-tab-bg); color: var(--els-tab-text); padding: var(--els-space-2) 0; border-radius: var(--els-radius-tab);
}

:where(.jour-calendrier){ position:relative; border-radius: var(--els-radius-12); background: var(--els-blister-bg); box-shadow: var(--els-shadow-1); border:1px solid var(--els-color-border); transition: background-color .15s ease, border-color .15s ease; }
:where(.jour-calendrier)::before{ content:''; position:absolute; inset:0; border-radius:inherit; box-shadow: inset 0 0 0 1px var(--els-blister-edge), inset 0 10px 20px rgba(24,35,48,.06); pointer-events:none; }
:where(.jour-calendrier)::after{ content:''; position:absolute; inset:2px 2px auto auto; height:24%; width:38%; border-radius:50%; background: radial-gradient(ellipse at 60% 40%, var(--els-blister-highlight), transparent 60%); opacity:.55; pointer-events:none; }
:where(.jour-calendrier):hover:not(.desactive){ background:#f0f5ff; border-color: var(--els-color-primary-blue); }
:where(.jour-calendrier.selected){ background: var(--els-gradient-primary); color:#fff; border-color: transparent; border-radius: var(--els-radius-pill); }
:where(.jour-calendrier.selected)::before{ box-shadow: inset 0 0 0 1px rgba(255,255,255,.25); }
:where(.jour-calendrier.desactive){ color:#aab4c3; background:#fbfcfe; border-color:#e9edf3; }
:where(.jour-calendrier.desactive)::before{ box-shadow: inset 0 0 0 1px rgba(24,35,48,.08); }

/* Availability bar — switch to blue scale (no green) */
:where(.barre-disponibilite){ background-color:#e8edf3; }
:where(.barre-disponibilite) div{ background: linear-gradient(90deg, #5dade2 0%, #3498db 100%); }

/* Slot Grid (modal selection) ------------------------------------ */
:where(#grille-selection-creneau,.grille-creneaux){ display:grid; grid-template-columns: repeat(auto-fill, minmax(96px,1fr)); gap: var(--els-slot-gap); }
:where(.slot-btn){ position:relative; border:1px solid var(--els-color-border); background:#fff; color: var(--els-color-text); border-radius: var(--els-slot-radius); font-size: var(--els-fs-600); }
:where(.slot-rate-label){ font-size: var(--els-fs-400); }
:where(.slot-btn.standard){ color: var(--els-color-primary-blue); }
:where(.slot-btn.standard):not(:disabled):hover{ border-color: var(--els-color-primary-blue); background: rgba(52,152,219,.08); }
:where(.slot-btn.standard).selected{ background: var(--els-color-primary-blue); border-color: var(--els-color-primary-blue); color:#fff; }
:where(.slot-btn.urgent){ color: var(--els-color-error); }
:where(.slot-btn.urgent) .slot-rate-label{ color: inherit; }
:where(.slot-btn.urgent):not(:disabled):hover{ border-color: var(--els-color-error); background: rgba(176,42,55,.08); }
:where(.slot-btn.urgent).selected{ background: var(--els-color-error); border-color: var(--els-color-error); color:#fff; background-image: repeating-linear-gradient(45deg, rgba(176,42,55,.10) 0 10px, rgba(176,42,55,0) 10px 20px); }
:where(.slot-btn:disabled){ color:#9aa6b6; background:#f2f4f7; border-color:#e6ebf1; }
:where(.slot-btn:disabled)::before{ content:''; position:absolute; inset:0; border-radius:inherit; box-shadow: inset 0 0 0 1px rgba(24,35,48,.08); }

/* AM/PM optional accents */
:where(.slot-btn).am{ background: var(--els-slot-am); }
:where(.slot-btn).pm{ background: var(--els-slot-pm); }
:where(.slot-btn).am-pm{ background-image: linear-gradient(90deg, var(--els-slot-am) 0 50%, var(--els-slot-pm) 50% 100%); }

/* Modals ---------------------------------------------------------- */
:where(.modale-contenu){ background:#fff; color: var(--els-color-text); border-radius: var(--els-radius-12); box-shadow: var(--els-shadow-2); border-top: 6px solid transparent; background-image: linear-gradient(#fff,#fff), var(--els-gradient-primary); background-origin: border-box; background-clip: padding-box, border-box; }
:where(.modale-contenu) > h3{ font-size: var(--els-fs-700); margin: 0 0 var(--els-space-2); }
:where(.btn-fermer){ color: var(--els-color-text-muted); line-height:1; border-radius: var(--els-radius-8); }
:where(.btn-fermer):hover{ color: var(--els-color-primary-blue); }

/* Buttons --------------------------------------------------------- */
:where(.btn){ font-weight:700; letter-spacing:.2px; position:relative; }
:where(.btn.btn-primaire){ background-image: var(--els-gradient-primary); color:#fff; border:0; border-radius: var(--els-radius-pill); padding:.75rem 1.25rem; box-shadow: var(--els-shadow-1); }
:where(.btn.btn-primaire:hover){ filter: brightness(1.02); }
:where(.btn.btn-primaire:disabled){ opacity:.6; }
:where(.btn.btn-secondaire){ background:#eef3f8; color: var(--els-color-text); border:1px solid var(--els-color-border); border-radius: var(--els-radius-8); }

/* Forms ----------------------------------------------------------- */
:where(.groupe-formulaire) label{ color: var(--els-color-text); font-size: var(--els-fs-500); }
:where(.champ-formulaire){ border:1px solid var(--els-color-border); border-radius: var(--els-radius-8); padding:.625rem .75rem; }
:where(.champ-formulaire):focus{ border-color: var(--els-color-primary-blue); box-shadow: 0 0 0 4px var(--els-focus-outer); outline:2px solid var(--els-focus-inner); outline-offset:2px; }
:where(select,input[type=number]){ font-size: var(--els-fs-500); }
:where(input[type=checkbox],input[type=radio]){ accent-color: var(--els-color-primary-blue); }
@supports not (accent-color: #000){ :where(input[type=checkbox],input[type=radio]):focus{ box-shadow: 0 0 0 3px var(--els-focus-outer); } }

/* Notifications --------------------------------------------------- */
:where(.notification.info){ background-color: var(--els-color-primary-blue); }
:where(.notification.succes){ background-color: var(--els-color-positive); }
:where(.notification.erreur){ background-color: var(--els-color-error); }

/* Price line (aria-live recommended in future markup) ------------- */
:where(#panier-pied-de-page .panier-total){ background:#e6eef9; border:1px solid var(--els-color-border); border-radius: var(--els-radius-12); padding: var(--els-space-3) var(--els-space-4); box-shadow: var(--els-shadow-1); }
:where(#panier-pied-de-page .panier-total) span{ font-size: var(--els-fs-500); }
:where(#panier-total-valeur){ font-size: var(--els-fs-600); font-weight:700; }

/* Skeletons ------------------------------------------------------- */
:where(.skeleton){ position:relative; overflow:hidden; background: var(--els-skeleton-base); color:transparent; }
:where(.skeleton)::after{ content:''; position:absolute; inset:0; transform: translateX(-100%); background: linear-gradient(90deg, transparent, var(--els-skeleton-highlight), transparent); animation: els-shimmer 1.1s infinite; }
@keyframes els-shimmer { 100% { transform: translateX(100%); } }
@media (prefers-reduced-motion: reduce){ :where(.skeleton)::after{ animation:none; } }

/* Print ----------------------------------------------------------- */
@media print{ .modale-overlay{ display:none !important; } .btn{ display:none !important; } .jour-calendrier.selected{ background-image:none; border-color:#888; } }

/* Dark Mode ------------------------------------------------------- */
@media (prefers-color-scheme: dark){
  :root{
    --els-color-bg: var(--els-color-bg-dark);
    --els-color-surface: var(--els-color-surface-dark);
    --els-color-text: var(--els-color-text-dark);
    --els-color-text-muted: var(--els-color-text-muted-dark);
    --els-color-border: var(--els-color-border-dark);
    --els-blister-bg:#151c2c; --els-blister-edge:rgba(0,0,0,.45); --els-blister-highlight:rgba(255,255,255,.25);
    --els-tab-bg:#22314a; --els-tab-text:#e9edf5;
    --els-slot-am:#1d2c46; --els-slot-pm:#261a39;
    --els-shadow-1:0 1px 2px -1px rgba(0,0,0,.45),0 2px 10px rgba(0,0,0,.38);
    --els-shadow-2:0 14px 38px rgba(0,0,0,.5),0 8px 16px -6px rgba(0,0,0,.44);
  }
}
</style>
